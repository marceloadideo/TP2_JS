<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TP 2 JS</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>

<body>


  <form class="row g-3">

    <div class="col-md-4">
      <label for="Apellido y Nombre" class="form-label">Apellido y Nombre separado por una coma</label>
      <input type="text" class="form-control" id="apellidoYNombre" placeholder="Apellido y Nombre">
      <span id="errorApellidoYNombre" style="color: red;"></span>
      <div class="valid-feedback">
        <span id="errorApellidoYNombre" style="color: red;"></span>
      </div>
    </div>


    <div class="col-md-4">
      <label for="validationCustom02" class="form-label">Apellido</label>
      <input type="text" class="form-control" id="validationCustom02" value="Otto" required>
      <div class="valid-feedback">
        ¡Campo validado!
      </div>
    </div>
    <div class="col-md-4">
      <label for="validationCustomUsername" class="form-label">Nombre de usuario</label>
      <div class="input-group has-validation">
        <span class="input-group-text" id="inputGroupPrepend">@</span>
        <input type="text" class="form-control" id="validationCustomUsername" aria-describedby="inputGroupPrepend"
          required>
        <div class="invalid-feedback">
          Por favor, elije un apellidoYNombre de usuario.
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <label for="validationCustom03" class="form-label">Ciudad</label>
      <input type="text" class="form-control" id="validationCustom03" required>
      <div class="invalid-feedback">
        No ingresó la ciudad donde vive.
      </div>
    </div>
    <div class="col-md-3">
      <label for="validationCustom04" class="form-label">Estado</label>
      <select class="form-select" id="validationCustom04" required>
        <option selected disabled value="">Elige...</option>
        <option>...</option>
      </select>
      <div class="invalid-feedback">
        Selecciona un estado válido.
      </div>
    </div>
    <div class="col-md-3">
      <label for="validationCustom05" class="form-label">Código postal</label>
      <input type="text" class="form-control" id="validationCustom05" required>
      <div class="invalid-feedback">
        Proporciona un código postal válido.
      </div>
    </div>
    <div class="col-12">
      <div class="form-check">
        <input class="form-check-input" type="checkbox" value="" id="invalidCheck" required>
        <label class="form-check-label" for="invalidCheck">
          Acepta los términos y condiciones
        </label>
        <div class="invalid-feedback">
          Debe estar de acuerdo antes de enviar.
        </div>
      </div>
    </div>
    <div class="col-12">
      <button class="btn btn-primary" type="submit">Enviar formulario</button>
    </div>
  </form>
  <script>
    // Obtenemos los elementos de entrada y los mensajes de error
    const apellidoYNombre = document.getElementById('apellidoYNombre');
    const apellido = document.getElementById('apellido');
    const email = document.getElementById('email');

    const errorApellidoYNombre = document.getElementById('errorApellidoYNombre');
    const errorApellido = document.getElementById('errorApellido');
    const errorEmail = document.getElementById('errorEmail');

    // Función de validación para el campo 1
    function validarApellidoYNombre() {

      let valor = apellidoYNombre.value;

      if (valor.length < 3) {
        errorApellidoYNombre.textContent = 'El Nombre debe tener al menos 3 caracteres';
      } else {
        errorApellidoYNombre.textContent = '';
      }

      if (valor.includes(' ')) {
        errorApellidoYNombre.textContent = '';
      } else {
        errorApellidoYNombre.textContent = 'Complete bien el Nombre! le falta un espacio';
      }

    }

    // Función de validación para el campo 2
    function validarApellido() {
      const valor = apellido.value;

      if (valor.length < 3) {
        errorApellido.textContent = 'El Apellido debe tener al menos 3 caracteres';
      } else {
        errorApellido.textContent = '';
      }
    }

    // Función de validación para el campo 3
    function validarEmail() {
      let valor = email.value;
      emailRegex = /^[-\w.%+]{1,64}@(?:[A-Z0-9-]{1,63}\.){1,125}[A-Z]{2,63}$/i;
      //Se muestra un texto a modo de ejemplo, luego va a ser un icono

      if (emailRegex.test(valor)) {
        errorEmail.textContent = '';

      } else {
        errorEmail.textContent = 'Complete bien el Email!';
      }




    }
    function ocultarErrorNombre() {
      errorApellidoYNombre.textContent = '';
    }
    function ocultarErrorApellido() {
      errorApellido.textContent = '';
    }
    function ocultarErrorEmail() {
      errorEmail.textContent = '';
    }

    // Asociamos el evento blur a cada campo de entrada
    apellidoYNombre.addEventListener('blur', validarApellidoYNombre);
    apellidoYNombre.addEventListener('focus', ocultarErrorNombre);

    apellido.addEventListener('blur', validarApellido);
    apellido.addEventListener('focus', ocultarErrorApellido);

    email.addEventListener('blur', validarEmail);
    email.addEventListener('focus', ocultarErrorEmail);
  </script>
</body>



</html>