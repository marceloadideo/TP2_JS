<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TP 2 JS</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>

<body>

  <div class="container">
    <h1>
      Formulario de Inscripción
    </h1>
    <h2>
      Práctica de JS para validaciones específicas
    </h2>
    <h3>
      Arquitectura y diseño WEB
    </h3>
    <form class="row g-3">



      <div class="col-md-4">
        <label for="Apellido y Nombre" class="form-label">Apellido y Nombre separado por una coma</label>
        <input type="text" class="form-control" id="apellidoYNombre" placeholder="Apellido y Nombre">
        <span id="errorApellidoYNombre" style="color: red;"></span>
        <div class="valid-feedback">
          <span id="errorApellidoYNombre" style="color: red;"></span>
        </div>
      </div>

      <div class="col-md-2">
        <label for="DNI" class="form-label">DNI</label>
        <input type="text" class="form-control" id="dni" placeholder="DNI">
        <span id="errorDni" style="color: red;"></span>
        <div class="valid-feedback">
          <span id="errorDni" style="color: red;"></span>
        </div>
      </div>


      <div class="col-md-1">
        <label for="Edad" class="form-label">Edad</label>
        <input type="text" class="form-control" id="edad" placeholder="Edad">
        <span id="errorEdad" style="color: red;"></span>
        <div class="valid-feedback">
          <span id="errorEdad" style="color: red;"></span>
        </div>
      </div>

      <div class="col-md-4">
        <label for="Dirección" class="form-label">Dirección</label>
        <input type="text" class="form-control" id="direccion" placeholder="Direccion">
        <span id="errorDireccion" style="color: red;"></span>
        <div class="valid-feedback">
          <span id="errorDireccion" style="color: red;"></span>
        </div>
      </div>

      <div class="col-md-3">
        <label for="validationCodigoPostal" class="form-label">Codigo Postal</label>
        <select class="form-select" id="validationCodigoPostal" required>
          <option selected disabled value="">Elija Cod. Postal...</option>
          <option>(1642) San Isidro </option>
          <option>(1643) Beccar</option>
        </select>
        <div class="invalid-feedback">
          Selecciona un código postal válido.
        </div>
      </div>

      <div class="col-md-4">
        <label for="validationCustom03" class="form-label">Ciudad</label>
        <input type="text" class="form-control" id="validationCustom03" required>
        <div class="invalid-feedback">
          No ingresó la ciudad donde vive.
        </div>
      </div>

      <div class="col-md-3">
        <label for="validationCustom03" class="form-label">Telefono</label>
        <input type="text" class="form-control" id="telefono" required>
        <div class="invalid-feedback">
          No ingresó la ciudad donde vive.
        </div>
      </div>

      <div class="col-md-4">
        <label for="Email" class="form-label">Email</label>
        <input type="text" class="form-control" id="email" placeholder="Email">
        <span id="errorEmail" style="color: red;"></span>
        <div class="valid-feedback">
          <span id="errorEmail" style="color: red;"></span>
        </div>
      </div>

      <div class="col-md-4">
        <label for="Contrasena" class="form-label">Contraseña</label>
        <input type="password" class="form-control" id="contrasena" placeholder="Contraseña">
        <span id="errorContrasena" style="color: red;"></span>
        <div class="valid-feedback">
          <span id="errorContrasena" style="color: red;"></span>
        </div>
      </div>

      <div class="col-md-4">
        <label for="RepetirContrasena" class="form-label">Repetir Contraseña</label>
        <input type="password" class="form-control" id="repetircontrasena" placeholder="Repetir Contraseña">
        <span id="errorRepetirContrasena" style="color: red;"></span>
        <div class="valid-feedback">
          <span id="errorRepetirContrasena" style="color: red;"></span>
        </div>
      </div>

      <div class="col-12">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="invalidCheck" required>
          <label class="form-check-label" for="invalidCheck">
            Acepta los términos y condiciones
          </label>
          <div class="invalid-feedback">
            Debe estar de acuerdo antes de enviar.
          </div>
        </div>
      </div>

      <div class="col-12">
        <button class="btn btn-primary" type="submit">Enviar formulario</button>
      </div>

    </form>

  </div>

  <script>
    // Obtenemos los elementos de entrada y los mensajes de error
    const apellidoYNombre = document.getElementById('apellidoYNombre');
    const errorApellidoYNombre = document.getElementById('errorApellidoYNombre');

    const dni = document.getElementById('dni');
    const errorDni = document.getElementById('errorDni');

    const edad = document.getElementById('edad');
    const errorEdad = document.getElementById('errorEdad');


    const contrasena = document.getElementById('contrasena');
    const errorContrasena = document.getElementById('errorContrasena');

    const repetirContrasena = document.getElementById('repetircontrasena');
    const errorRepetirContrasena = document.getElementById('errorRepetirContrasena');



    const email = document.getElementById('email');
    const errorEmail = document.getElementById('errorEmail');



    // Función de validación para el campo 1
    function validarApellidoYNombre() {

      const valor = apellidoYNombre.value;

      if (valor.length < 3) {
        errorApellidoYNombre.textContent = 'El Nombre debe tener al menos 3 caracteres';
      } else {
        errorApellidoYNombre.textContent = '';
      }
      if (valor.includes(' ')) {
        errorApellidoYNombre.textContent = '';
      } else {
        errorApellidoYNombre.textContent = 'Me estas queriendo joder. No tiene espacios';
      }
      if (valor.includes(',')) {
        errorApellidoYNombre.textContent = '';
      } else {
        errorApellidoYNombre.textContent = 'Falta la coma que separe el apellido y el nombre';
      }
    } //validarApellidoYNombre

    function validarDni() {

      const valor = dni.value;

      if (valor.length < 3) {
        errorDni.textContent = 'DNI Erroneo';
      } else {
        errorDni.textContent = '';
      }

    } //validarContrasena

    function validarEdad() {

      nValor = parseInt(edad.value);

      if (nValor > 110 || nValor < 18) {
        errorEdad.textContent = 'Edad incorrecta';
      } else {
        errorEdad.textContent = '';
      }

    } //validaredad


    function validarContrasena() {

      const valor = contrasena.value;

      if (valor.length < 3) {
        errorContrasena.textContent = 'La Contraseña debe tener mas de 3 caracteres';
      } else {
        errorContrasena.textContent = '';
      }
      if (valor.includes('@')) {
        errorContrasena.textContent = '';
      } else {
        errorContrasena.textContent = 'Falta la arroba';
      }
    } //validarContrasena

    function validarRepetirContrasena() {

      const valor = repetircontrasena.value;

      if (valor.length < 3) {
        errorRepetirContrasena.textContent = 'La Contraseña debe tener mas de 3 caracteres';
      } else {
        errorRepetirContrasena.textContent = '';
      }
      if (valor.includes('@')) {
        errorRepetirContrasena.textContent = '';
      } else {
        errorRepetirContrasena.textContent = 'Falta la arroba';
      }
    } //validarContrasena




    // Función de validación para el campo 3
    function validarEmail() {
      let valor = email.value;
      emailRegex = /^[-\w.%+]{1,64}@(?:[A-Z0-9-]{1,63}\.){1,125}[A-Z]{2,63}$/i;
      if (emailRegex.test(valor)) {
        errorEmail.textContent = '';

      } else {
        errorEmail.textContent = 'Complete bien el Email!';
      }
    } //validarEmail

    function ocultarErrorApellidoYNombre() {
      errorApellidoYNombre.textContent = '';
    }

    function ocultarErrorDni() {
      errorDni.textContent = '';
    }

    function ocultarErrorEdad() {
      errorEdad.textContent = '';
    }

    function ocultarErrorEmail() {
      errorEmail.textContent = '';
    }
    function ocultarErrorContrasena() {
      errorContrasena.textContent = '';
    }
    function ocultarErrorRepetirContrasena() {
      errorRepetirContrasena.textContent = '';
    }

    apellidoYNombre.addEventListener('blur', validarApellidoYNombre);
    apellidoYNombre.addEventListener('focus', ocultarErrorApellidoYNombre);

    dni.addEventListener('blur', validarDni);
    dni.addEventListener('focus', ocultarErrorDni);

    edad.addEventListener('blur', validarEdad);
    edad.addEventListener('focus', ocultarErrorEdad);


    email.addEventListener('blur', validarEmail);
    email.addEventListener('focus', ocultarErrorEmail);

    contrasena.addEventListener('blur', validarContrasena);
    contrasena.addEventListener('focus', ocultarErrorContrasena);

    repetirContrasena.addEventListener('blur', validarRepetirContrasena);
    repetirContrasena.addEventListener('focus', ocultarErrorRepetirContrasena);



  </script>
</body>



</html>